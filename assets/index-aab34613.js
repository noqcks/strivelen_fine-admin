import{i as R,e as L,d as o,b as T,f as W}from"./index-09ba12ff.js";import{r as i}from"./vendor-0e720bfc.js";function h(r,c){if(R){if(!r)return c;var e;return L(r)?e=r():"current"in r?e=r.current:e=r,e}}var p=function(c){var e=function(t,u,s){var f=i.useRef(!1),v=i.useRef([]),E=i.useRef([]),a=i.useRef();c(function(){var n,g=Array.isArray(s)?s:[s],l=g.map(function(m){return h(m)});if(!f.current){f.current=!0,v.current=l,E.current=u,a.current=t();return}(l.length!==v.current.length||!o(l,v.current)||!o(u,E.current))&&((n=a.current)===null||n===void 0||n.call(a),v.current=l,E.current=u,a.current=t())}),T(function(){var n;(n=a.current)===null||n===void 0||n.call(a),f.current=!1})};return e};const w=p;var A=w(i.useEffect);const x=A;function $(r,c,e){e===void 0&&(e={});var d=W(c);x(function(){var t=h(e.target,window);if(t!=null&&t.addEventListener){var u=function(f){return d.current(f)};return t.addEventListener(r,u,{capture:e.capture,once:e.once,passive:e.passive}),function(){t.removeEventListener(r,u,{capture:e.capture})}}},[r,e.capture,e.once,e.passive],e.target)}export{h as g,$ as u};
